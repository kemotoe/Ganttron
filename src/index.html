<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Ganttron</title>
  <script src="./codebase/dhtmlxgantt.js"></script>
  <script src="//export.dhtmlx.com/gantt/api.js"></script>
  <link href="./codebase/dhtmlxgantt.css" rel="stylesheet">
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="taskbar-wrapper">
  <div class="taskbar">
    <input value="Export to Excel" class="btn btn-primary" type="button" onclick="gantt.exportToExcel()" style="margin:20px;">
    <input value="Export to PDF" class="btn btn-primary" type="button" onclick="gantt.exportToPDF()" style="margin:20px;">
    <input value="Export to PNG" class="btn btn-primary" type="button" onclick="gantt.exportToPNG()" style="margin:20px;">
    <input value="Save Gantt Chart" class="btn btn-success" type="button" onclick="saveGantt()" style="margin:20px;">
  </div>
  </div>
  <div id="gantt">
  </div>
  <script>
    window.$ = window.jQuery = require('../node_modules/jquery/dist/jquery.min');

    gantt.locale.labels.deadline_enable_button = 'Set';
	  gantt.locale.labels.deadline_disable_button = 'Remove';

    gantt.config.lightbox.sections = [
		{name: "description", height: 70, map_to: "text", type: "textarea", focus: true},
		{name: "time", map_to: "auto", type: "duration"},
		{name: "deadline", map_to: {start_date:"deadline"},
			type: "duration_optional",
			button: true,
			single_date: true}
	  ];

    gantt.config.fit_tasks = true;
    gantt.config.scale_unit = "day";
    gantt.config.subscales = [{
      unit: "month",
      step: 1,
      date: "%M"
    }];

    gantt.init("gantt");

    let savedGantt;

    const saveGantt = () => {
      savedGantt = gantt.serialize();
      console.log(savedGantt);
    }
    
    
    const loki = require("lokijs");

  </script>
  <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</body>

</html>